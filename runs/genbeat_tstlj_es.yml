run.genbeat_tstlj_es.services:
- service: ${service.tst_lj}

- service: ${service.generatorbeat}
  config.elasticsearch:
    - ${opt.elasticsearch.host}:${opt.lumberjack.port}
  config.params.bulksize: 2048

- service: ${service.collect}
  config:
    collect.processes: ['generatorbeat', 'tst-lj']
    producer: generatorbeat
    consumer: tstlj
    protocol: es

run.genbeat_tstlj_es.configurations:
- name: ${_active.name}_compressed
  params: ${params.es.compressed}

- name: ${_active.name}_uncompressed
  params: ${params.es.uncompressed}
